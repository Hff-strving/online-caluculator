<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FeiFei's 统计学计算器</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="calculator-container">
        <h1>FeiFei's 统计学计算器</h1>
        <div class="calculator-section">
            <h2>基础计算</h2>
            <input type="text" id="basicInput" class="calc-display" placeholder="请输入表达式">
            <div class="calc-buttons">
                <button onclick="appendOperator('(')">(</button>
                <button onclick="appendOperator(')')">)</button>
                <button onclick="clearBasicCalc()" class="clear-btn">C</button>
                <button onclick="backspace()">←</button>

                <button onclick="appendOperator('^')" class="function-btn">x^n</button>
                <button onclick="appendOperator('√')" class="function-btn">√</button>
                <button onclick="appendOperator('%')" class="function-btn">%</button>
                <button onclick="appendOperator('/')" class="function-btn">/</button>

                <button onclick="appendNumber('7')">7</button>
                <button onclick="appendNumber('8')">8</button>
                <button onclick="appendNumber('9')">9</button>
                <button onclick="appendOperator('*')" class="function-btn">×</button>

                <button onclick="appendNumber('4')">4</button>
                <button onclick="appendNumber('5')">5</button>
                <button onclick="appendNumber('6')">6</button>
                <button onclick="appendOperator('-')" class="function-btn">-</button>

                <button onclick="appendNumber('1')">1</button>
                <button onclick="appendNumber('2')">2</button>
                <button onclick="appendNumber('3')">3</button>
                <button onclick="appendOperator('+')" class="function-btn">+</button>

                <button onclick="reciprocal()" class="function-btn">1/x</button>
                <button onclick="appendNumber('0')">0</button>
                <button onclick="appendNumber('.')">.</button>
                <button onclick="calculate('basic')" class="equal-btn">=</button>
            </div>
        </div>
        <div class="stats-section">
            <h2>统计计算</h2>
            <textarea id="dataInput1" placeholder="请输入第一组数据（支持空格、逗号、换行分隔，支持中英文标点）"></textarea>
            <textarea id="dataInput2" placeholder="请输入第二组数据（用于计算协方差时使用）"></textarea>
            <div class="buttons">
                <button onclick="calculate('mean')">计算均值</button>
                <button onclick="calculate('variance')">计算方差</button>
                <button onclick="calculate('stdDev')">计算标准差</button>
                <button onclick="calculate('deviation')">计算离差</button>
                <button onclick="calculate('covariance')" class="function-btn">计算协方差</button>
                <button onclick="clearData()" class="clear-btn">清除数据</button>
            </div>
            <div id="result"></div>
        </div>
        <div class="history-section">
            <h2>计算历史</h2>
            <div class="history-controls">
                <button onclick="clearHistory()" class="clear-btn">清除历史</button>
            </div>
            <div id="historyList"></div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
